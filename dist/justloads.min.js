var justloads=function(){"use strict";function t(t){return t.charAt(0).toUpperCase()+t.slice(1)}function e(e,r){return void 0===r&&(r=""),t(e)+r}function r(t){return"string"==typeof t||t instanceof String}function n(t,e){Object.keys(t).forEach(function(r){e(t[r],r)})}function o(t,e){void 0===e&&(e={});var o;return o=r(t)?p.createElement(t):t,n(e,function(t,e){return o.setAttribute(e,t)}),o}function i(t,e){void 0===e&&(e=b),e.parentNode.insertBefore(t,e)}function u(t){var e=!1;return new Promise(function(r,n){var o=function(e){n(e,t)},i=function(){r(t)};t[y]?t[d]=function(){e||"complete"!==t[y]||(e=!0,i())}:t[v]("load",i),t[v]("error",o),t[v]("abort",o)})}function c(t){return t.substr(t.lastIndexOf(".")+1).split("?")[0]}function a(t){var e=c(t),r=!1;return"js"===e?r=g:"css"===e&&(r=m),r}function s(t){return M?"function"==typeof t||!1:"[object Function]"==={}.toString.call(t)}function f(t){return t&&s(t)}var p=document,l=window,h="getElementsByTagName",y="readyState",d="onreadystatechange",v="addEventListener",g="js",m="css",_=[g,m,"element"],w={};w[g]="element",w[m]="element";var j=(p.body||function(){return p[h]("head")[0]||p.documentElement}()).childNodes,b=j[j.length-1],E=function(){};E.prototype.load=function(t){var e=o(t.tag,t.attr),r=u(e);return r.then(function(e){return o(e,t.sAttr)},function(e,r){return o(r,t.fAttr)}),i(e),r};var A={ElementLoader:E},k=function(){function t(t){if(-1===_.indexOf(t))throw new ReferenceError("You tried to get an unsupported loader of type "+t);var r=w[t];r&&(t=r);var o=n[t];if(o)return o;var i=new(A[e(t,"Loader")]);return n[t]=i,i}function r(e){return t(e.type).load(e)}var n={};return{load:r}}(),O=function(t){this.key=t.key,this.type=t.type,this.url=t.url,this.status=t.status||"initialized"},R=function(t){function e(e){t.call(this,e),this.tag=e.tag,this.attr=e.attr||{},this.fAttr=e.fAttr||{},this.sAttr=e.sAttr||{}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(O),x=function(t){function e(e){t.call(this,e),this.tag=this.tag||"script";var r=this.attr;r.src=r.src||this.url,r.type=r.type||"text/javascript",r.defer=r.defer||1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(R),q="all",L=function(t){function e(e){t.call(this,e),this.tag=this.tag||"link";var r=this.attr;r.rel=r.rel||"stylesheet",r.media=r.media||"x",r.href=r.href||this.url;var n=this.sAttr;n.media=n.media||q}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(R),N={JsResource:x,CssResource:L,ElementResource:R},F=function(){function t(t){t.type=t.type||a(t.url||"");var r=t.type;if(-1===_.indexOf(r))throw new ReferenceError("You tried to get an unsupported resource of type "+r);return new(N[e(r,"Resource")])(t)}function n(e){var n=e;r(e)&&(n={key:e,url:e});var i=n.key,u=o[i];if(u)return u;var c=t(n);return o[i]=c,c}var o={};return{get:n}}(),M="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof NodeList,S=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1),this.queue=e?t.slice(0):t};S.prototype.checkMethod=function(t){if(!f(t))throw new TypeError("fn must be a function")},S.prototype.empty=function(){for(var t=this,e=this.queue;e.length;){var r=e.shift();(n=t).call.apply(n,r)}var n},S.prototype.call=function(t,e){void 0===e&&(e=[]),this.checkMethod(t),t.apply(void 0,e)},S.prototype.push=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];(r=this).call.apply(r,t);var r};var T=function(t){function e(e,r,n){void 0===r&&(r=[]),void 0===n&&(n=!1),t.call(this,r,n),this.obj=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resolveFn=function(t){var e=this.obj[t];try{this.checkMethod(e)}catch(e){throw new ReferenceError("The function "+t+" does not exist.'")}return e},e.prototype.call=function(e,r){if(void 0===r&&(r=[]),!e)throw new RangeError("please provide at least one argument");t.prototype.call.call(this,this.resolveFn(e),r)},e}(S),B=(performance.now(),{load:function(t){var e=F.get(t);k.load(e).then(function(){})}}),C=new T(B,l.jl_queue||[]);return C.empty(),l.jl_queue=C,B}();
//# sourceMappingURL=justloads.min.js.map